{"version":3,"sources":["Components/Trip.js","Components/ShowSaved.js","Components/Show.js","Components/ShowList.js","Pages/HomePage.js","Pages/UploadPage.js","Pages/LoginPage.js","Pages/RegistPage.js","Components/SearchComponent.js","Components/NavigationComponent.js","App.js","index.js"],"names":["arr","Trip","trip","className","id","src","img","alt","name","location","content","tag","credit","onClick","t","push","localStorage","setItem","JSON","stringify","parse","getItem","ShowSaved","arr1","map","Show","props","trips","selectedTripObj","ShowList","useState","setTrips","count","setCount","page","setPage","selectedTrip","setSelectedTrip","useMemo","find","useEffect","a","fetch","searchKey","response","json","res","success","fetchTrips","resRaw","_count","fetchCount","htmlFor","onChange","e","target","value","layout","total","amount","pageSize","onCurrentChange","HomePage","UploadPage","tripInfo","setTripInfo","errorText","setErrorText","class","role","style","marginBottom","onSubmit","ev","preventDefault","formData","FormData","Object","entries","forEach","key","append","method","credentials","body","history","message","type","rows","cols","image","files","withRouter","userInfo","setUserInfo","username","password","headers","onLogin","for","to","RegistPage","setSearchKey","placeholder","aria-label","onSearch","useLocation","console","log","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","pathname","aria-current","marginLeft","hasLogin","onLogout","replace","App","setLogin","checkLogin","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dec2ad6f.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\n\nconst arr = [];\n\nfunction add(t) {\n  arr.push(t);\n  localStorage.setItem(\"saveTrip\", JSON.stringify(arr));\n  JSON.parse(localStorage.getItem(\"saveTrip\"));\n}\n\nfunction Trip({ trip }) {\n  return (\n    <div className=\"container\">\n      <div className=\"card\" id=\"card-info\">\n        <img className=\"card-img-top\" src={trip.img} alt=\"trip\" />\n        <p className=\"card-title\">{trip.name}</p>\n        <p>Location:{trip.location}</p>\n        <p>{trip.content}</p>\n        <p>Tags:{trip.tag}</p>\n        <p className=\"card-text\" id=\"credit-info\">\n          Image by {trip.credit}\n        </p>\n      </div>\n      <button className=\"btn btn-primary\" onClick={() => add(trip)}>\n        save\n      </button>\n    </div>\n  );\n}\n\nTrip.propTypes = {\n  trip: PropTypes.object,\n};\n\nexport default Trip;\n","import Trip from \"./Trip\";\nimport PropTypes from \"prop-types\";\n\nexport default function ShowSaved() {\n  let arr1 = JSON.parse(localStorage.getItem(\"saveTrip\"));\n\n  return arr1 ? (\n    <div>\n      {arr1.map((trip) => (\n        <Trip trip={trip} />\n      ))}\n    </div>\n  ) : (\n    \"Empty save.\"\n  );\n}\n\nShowSaved.propTypes = {\n  trip: PropTypes.object,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Trip from \"./Trip\";\n\nfunction Show(props) {\n    return props.trips ? (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-6 col-sm\" id=\"card-display\">\n                    {props.selectedTripObj ? (\n                        <Trip trip={props.selectedTripObj} key={props.trip} />\n                    ) : (\n                        props.trips.map((t) => (\n                            <div className=\"card-deck\">\n                                <div className=\"card-body\">\n                                    <Trip key={t.id} trip={t} />\n                                </div>\n                            </div>\n                        ))\n                    )}\n                </div>\n            </div>\n        </div>\n    ) : null;\n}\n\nShow.propTypes = {\n    props: PropTypes.array,\n};\n\nexport default Show;\n","import Show from \"./Show\";\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Pagination } from \"element-react\";\r\nimport \"element-theme-default\";\r\n\r\nconst ShowList = function ShowList(props) {\r\n  const [trips, setTrips] = useState([]);\r\n  const [count, setCount] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [selectedTrip, setSelectedTrip] = useState(\"\");\r\n\r\n  const selectedTripObj = useMemo(\r\n    () => trips?.find((t) => t.tag === selectedTrip),\r\n    [selectedTrip, trips]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const fetchTrips = async () => {\r\n      const response = await fetch(\r\n        `/getTrips?searchKey=${props.searchKey}&page=${page}`\r\n      );\r\n      const res = await response.json();\r\n      if (res && res.success) {\r\n        setTrips(res.trips);\r\n      }\r\n    };\r\n    fetchTrips();\r\n  }, [props.searchKey, page]);\r\n\r\n  useEffect(() => {\r\n    const fetchCount = async () => {\r\n      const resRaw = await fetch(\"./countData\");\r\n      const _count = await resRaw.json();\r\n      setCount(_count);\r\n    };\r\n    fetchCount();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Find your favorite trips!</h1>\r\n      <label htmlFor=\"trip-select\">Filter by tag:</label>\r\n      {\r\n        <select\r\n          name=\"trips\"\r\n          id=\"trips-select\"\r\n          onChange={(e) => {\r\n            setSelectedTrip(e.target.value);\r\n          }}\r\n        >\r\n          <option value=\"all\">All</option>\r\n          {trips?.map((trip) => (\r\n            <option key={trip} value={trip.tag}>\r\n              {trip.tag}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      }\r\n\r\n      <Show trips={trips} selectedTripObj={selectedTripObj} />\r\n\r\n      <div className=\"first\">\r\n        <div className=\"block\">\r\n          <Pagination\r\n            layout=\"prev, pager, next\"\r\n            total={count.amount}\r\n            pageSize={6}\r\n            onCurrentChange={(e) => setPage(e)}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nShowList.propTypes = {\r\n  searchKey: PropTypes.string,\r\n};\r\n\r\nexport default ShowList;\r\n","import ShowList from \"../Components/ShowList\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst HomePage = function HomePage(props) {\n  return <div>{<ShowList searchKey={props.searchKey} />}</div>;\n};\n\nHomePage.propTypes = {\n  searchKey: PropTypes.string,\n};\n\nexport default HomePage;\n","import React, { useState } from \"react\";\n\nexport default function UploadPage(props) {\n  const [tripInfo, setTripInfo] = useState({});\n  const [errorText, setErrorText] = useState(\"\");\n  return (\n    <div class=\"col-4\">\n      <br />\n      <h2 className=\"create-info\">Create a new Trip</h2>\n      {!!errorText && (\n        <div\n          id=\"error\"\n          className=\"alert-danger\"\n          role=\"alert\"\n          style={{ marginBottom: \"4px\" }}\n        >\n          {errorText}\n        </div>\n      )}\n      <form\n        id=\"formCreate\"\n        onSubmit={async (ev) => {\n          ev.preventDefault();\n          const formData = new FormData();\n          Object.entries(tripInfo).forEach(([key, value]) => {\n            formData.append(key, value);\n          });\n          const response = await fetch(\"/createTrip\", {\n            method: \"POST\",\n            credentials: \"same-origin\",\n            body: formData,\n          });\n          const res = await response.json();\n          if (res && res.success) {\n            props.history.push(\"/\");\n          } else {\n            setErrorText(res.message || \"Upload failed!\");\n          }\n        }}\n      >\n        <label class=\"form-label\">\n          Title:{\" \"}\n          <input\n            class=\"form-control\"\n            type=\"text\"\n            onChange={(ev) => {\n              setTripInfo({\n                ...tripInfo,\n                name: ev.target.value,\n              });\n            }}\n          />\n        </label>\n        <br />\n        <label class=\"form-label\">\n          Location:\n          <input\n            class=\"form-control\"\n            type=\"text\"\n            onChange={(ev) => {\n              setTripInfo({\n                ...tripInfo,\n                location: ev.target.value,\n              });\n            }}\n          />\n        </label>\n        <label class=\"form-label\">\n          Description:\n          <br></br>\n          <textarea\n            rows=\"5\"\n            cols=\"50\"\n            onChange={(ev) => {\n              setTripInfo({\n                ...tripInfo,\n                content: ev.target.value,\n              });\n            }}\n          ></textarea>\n        </label>\n        <label class=\"form-label\">\n          Photo:{\" \"}\n          <input\n            class=\"form-control\"\n            type=\"file\"\n            id=\"image-upload\"\n            onChange={(ev) => {\n              setTripInfo({\n                ...tripInfo,\n                image: ev.target.files && ev.target.files[0],\n              });\n            }}\n          />\n        </label>\n        <br />\n        <button type=\"submit\" class=\"btn btn-primary\">\n          Create\n        </button>\n      </form>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport \"./../styles/Authen.css\";\n\nimport PropTypes from \"prop-types\";\n\nconst LoginPage = function LoginPage(props) {\n  const [userInfo, setUserInfo] = useState({});\n  const [errorText, setErrorText] = useState(\"\");\n  return (\n    <div className=\"/login\">\n      <div className=\"title\">\n        <h3>Sign in to upload posts and save your favourite posts.</h3>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col-sm-4 box border\">\n          <form\n            id=\"formLogin\"\n            onSubmit={async (ev) => {\n              ev.preventDefault();\n              if (!userInfo.username || !userInfo.password) {\n                setErrorText(\"Username and password are required!\");\n                return;\n              }\n              setErrorText(\"\");\n              const response = await fetch(\"/login\", {\n                method: \"POST\",\n                credentials: \"same-origin\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify(userInfo),\n              });\n              const res = await response.json();\n\n              if (res && res.success) {\n                props.onLogin && props.onLogin();\n                props.history.push(\"/\");\n              } else {\n                setErrorText(res.message || \"Sign in failed!\");\n              }\n            }}\n          >\n            <div className=\"mb-2\">\n              <label for=\"InputUsername\" className=\"form-label\">\n                Username\n              </label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                onChange={(ev) => {\n                  setUserInfo({\n                    ...userInfo,\n                    username: ev.target.value,\n                  });\n                }}\n              />\n            </div>\n            <div className=\"mb-3\">\n              <label for=\"InputPassword\" className=\"form-label\">\n                Password\n              </label>\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                onChange={(ev) => {\n                  setUserInfo({\n                    ...userInfo,\n                    password: ev.target.value,\n                  });\n                }}\n              />\n            </div>\n\n            {!!errorText && (\n              <div\n                id=\"error\"\n                className=\"alert-danger\"\n                role=\"alert\"\n                style={{ marginBottom: \"4px\" }}\n              >\n                {errorText}\n              </div>\n            )}\n\n            <div className=\"d-grid gap-2 mx-auto center-font\">\n              <button type=\"submit\" className=\"btn btn-primary\">\n                Sign In\n              </button>\n            </div>\n          </form>\n          <hr />\n          <div className=\"center-font\">\n            <Link\n              className=\"btn btn-success secondfont\"\n              to=\"/regist\"\n              role=\"button\"\n            >\n              Creat New Account\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nLoginPage.propTypes = {\n  onLogin: PropTypes.func,\n};\n\nexport default withRouter(LoginPage);\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./../styles/Authen.css\";\n\nexport default function RegistPage(props) {\n  const [userInfo, setUserInfo] = useState({});\n  const [errorText, setErrorText] = useState(\"\");\n  return (\n    <div className=\"/regist\">\n      <div className=\"title\">\n        <h3>Create New Account</h3>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-sm-4 box border\">\n          <form\n            id=\"formRegist\"\n            onSubmit={async (ev) => {\n              ev.preventDefault();\n              if (!userInfo.username || !userInfo.password) {\n                setErrorText(\"Username and password required!\");\n                return;\n              }\n              setErrorText(\"\");\n              const response = await fetch(\"/regist\", {\n                method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n                credentials: \"same-origin\", // include, *same-origin, omit\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify(userInfo), // body data type must match \"Content-Type\" header\n              });\n              const res = await response.json();\n              if (res && res.success) {\n                props.history.push(\"/login\");\n              } else {\n                setErrorText(res.message || \"Sign up failed!\");\n              }\n            }}\n          >\n            <div className=\"mb-2\">\n              <label for=\"InputUsername\" className=\"form-label\">\n                Username\n              </label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                onChange={(ev) => {\n                  setUserInfo({\n                    ...userInfo,\n                    username: ev.target.value,\n                  });\n                }}\n              />\n            </div>\n            <div className=\"mb-3\">\n              <label for=\"InputPassword\" className=\"form-label\">\n                Password\n              </label>\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                onChange={(ev) => {\n                  setUserInfo({\n                    ...userInfo,\n                    password: ev.target.value,\n                  });\n                }}\n              />\n            </div>\n            {!!errorText && (\n              <div\n                id=\"error\"\n                className=\"alert-danger\"\n                role=\"alert\"\n                style={{ marginBottom: \"4px\" }}\n              >\n                {errorText}\n              </div>\n            )}\n            <div className=\"d-grid gap-2 mx-auto center-font\">\n              <button type=\"submit\" className=\"btn btn-success\">\n                Sign Up\n              </button>\n            </div>\n          </form>\n          <hr />\n          <div className=\"center-font\">\n            <p className=\"secondfont\">Already have an account?</p>\n            <Link\n              className=\"btn btn-primary secondfont\"\n              to=\"/login\"\n              role=\"button\"\n            >\n              Sign In\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nconst SearchComponent = function SearchComponent(props) {\n  const [searchKey, setSearchKey] = useState(\"\");\n\n  return (\n    <form className=\"d-flex\">\n      <input\n        className=\"form-control me-2\"\n        type=\"search\"\n        placeholder=\"Search\"\n        aria-label=\"Search\"\n        onChange={(ev) => {\n          setSearchKey(ev.target.value);\n        }}\n      />\n      <button\n        className=\"btn btn-outline-success\"\n        onClick={(ev) => {\n          ev.preventDefault();\n          props.onSearch && props.onSearch(searchKey);\n        }}\n      >\n        Search\n      </button>\n    </form>\n  );\n};\n\nSearchComponent.propTypes = {\n  onSearch: PropTypes.func,\n};\n\nexport default withRouter(SearchComponent);\n","import React from \"react\";\r\nimport { Link, useLocation, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport SearchComponent from \"../Components/SearchComponent\";\r\n\r\nconst Nav = function NavigationComponent(props) {\r\n  const location = useLocation();\r\n  console.log(\"Render NavigationComponent\", location);\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n      <div className=\"container-fluid\">\r\n        <Link\r\n          className=\"navbar-brand\"\r\n          to=\"/\"\r\n          onClick={async (ev) => {\r\n            ev.preventDefault();\r\n            props.onSearch(\"\");\r\n            props.history.push(\"/\");\r\n          }}\r\n        >\r\n          Bay Area Trip Guide\r\n        </Link>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarSupportedContent\"\r\n          aria-controls=\"navbarSupportedContent\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                className={\r\n                  \"nav-link\" + (location.pathname === \"/\" ? \" active\" : \"\")\r\n                }\r\n                aria-current=\"page\"\r\n                onClick={async (ev) => {\r\n                  ev.preventDefault();\r\n                  props.onSearch(\"\");\r\n                  props.history.push(\"/\");\r\n                }}\r\n                to=\"/list\"\r\n              >\r\n                View Trips\r\n              </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                className={\r\n                  \"nav-link\" +\r\n                  (location.pathname === \"/upload\" ? \" active\" : \"\")\r\n                }\r\n                to=\"/upload\"\r\n              >\r\n                Upload\r\n              </Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/saved\">\r\n                My Favourite\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n\r\n          <SearchComponent onSearch={props.onSearch} />\r\n\r\n          <div\r\n            className=\"btn btn-success\"\r\n            type=\"submit\"\r\n            role=\"button\"\r\n            style={{ marginLeft: \"30px\" }}\r\n            onClick={async (ev) => {\r\n              ev.preventDefault();\r\n              const { hasLogin, onLogout } = props;\r\n              if (hasLogin) {\r\n                onLogout && onLogout();\r\n              } else {\r\n                props.history.replace(\"/login\");\r\n              }\r\n            }}\r\n          >\r\n            {props.hasLogin ? \"Logout\" : \"Sign In\"}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nNav.propTypes = {\r\n  hasLogin: PropTypes.bool,\r\n  onLogout: PropTypes.func,\r\n};\r\n\r\nexport default withRouter(Nav);\r\n","import React, { useEffect, useState } from \"react\";\nimport ShowSaved from \"./Components/ShowSaved\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport HomePage from \"./Pages/HomePage.js\";\nimport UploadPage from \"./Pages/UploadPage.js\";\nimport LoginPage from \"./Pages/LoginPage.js\";\nimport RegistPage from \"./Pages/RegistPage.js\";\nimport NavigationComponent from \"./Components/NavigationComponent.js\";\n\nfunction App() {\n  const [hasLogin, setLogin] = useState(false);\n  const [searchKey, setSearchKey] = useState(\"\");\n  useEffect(() => {\n    const checkLogin = async () => {\n      const response = await fetch(\"/checkSession\");\n      const res = await response.json();\n\n      if (res && res.success) {\n        setLogin(true);\n      } else {\n        setLogin(false);\n      }\n    };\n    checkLogin();\n  }, []);\n  return (\n    <Router>\n      <NavigationComponent\n        hasLogin={hasLogin}\n        onLogout={async () => {\n          const response = await fetch(\"/checkSession\");\n          const res = await response.json();\n\n          if (res && res.success) {\n            setLogin(false);\n          }\n        }}\n        onSearch={(key) => {\n          setSearchKey(key);\n        }}\n      ></NavigationComponent>\n      <div className=\"container full-width\">\n        <Switch>\n          <Route path=\"/login\">\n            <LoginPage\n              onLogin={() => {\n                setLogin(true);\n              }}\n            />\n          </Route>\n          <Route path=\"/regist\" component={RegistPage} />\n          <Route path=\"/upload\" component={UploadPage} />\n          <Route path=\"/saved\" component={ShowSaved} />\n          <Route path=\"/\">\n            <HomePage searchKey={searchKey} />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport \"./styles/styles.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}